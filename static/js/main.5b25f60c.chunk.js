(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(59),s=a.n(r),c=(a(67),a(3)),i=a(4),l=a(9),m=a(8),u=a(10),d=a(29),b=a(30),h=a(31),p=a.n(h),g={apiKey:"AIzaSyCSmaCRXRCakWz3Bp2ffvbbDAITtco1iDQ",authDomain:"autocommit-7b216.firebaseapp.com",databaseURL:"https://autocommit-7b216.firebaseio.com",projectId:"autocommit-7b216",storageBucket:"autocommit-7b216.appspot.com",messagingSenderId:"71888027585"};a(115),a(117);var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Object(c.a)(this,e),this.firebase=p.a,this.firebase.initializeApp(g),this.firebase.auth().onAuthStateChanged(function(e){t(e)}),this.user=null}return Object(i.a)(e,[{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=new p.a.auth.GithubAuthProvider;n.addScope("repo"),p.a.auth().signInWithPopup(n).then(function(a){console.log("User successfully logged in."),e.user=a.user,t(a)}).catch(function(e){console.error("Sign in error",e),a()})}},{key:"logout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.firebase.auth().signOut().then(function(){console.log("User logged out"),e.user=null,t()}).catch(function(e){console.error("Sign out error",e),a()})}},{key:"changeUserDisplayName",value:function(e){var t=this.firebase.auth().currentUser;return new Promise(function(a,n){t.updateProfile({displayName:e}).then(function(){console.log("Display name successfully changed"),a(t)},function(e){console.error("Error changing display name",e)})})}},{key:"addUserToDB",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this.firebase.database().ref("users").update(Object(d.a)({},e,Object(b.a)({},t))).then(function(){console.log("DB ".concat(e," successfully added to database")),a()}).catch(function(t){console.error("DB error adding ".concat(e," to database")),n(t)})}},{key:"getUserFromDB",value:function(e){var t=this.firebase.database().ref("users/".concat(e));return new Promise(function(a,n){t.once("value",function(t){console.log("Found ".concat(e)),a(t.val())})})}},{key:"toggleCommits",value:function(e,t){var a=this.firebase.database().ref("users/".concat(e));return new Promise(function(n,o){a.update({autocommits:t}).then(function(){console.log("Autocommits for ".concat(e," was set to ").concat(t)),n()}).catch(function(a){console.error("Error setting ".concat(e," autocommits to ").concat(t)),o(a)})})}}]),e}(),y=(a(121),a(46)),E=a.n(y),v=a(7),w=a.n(v),N=[{img:w.a,title:"Create 'autocommit' repo",desc:o.a.createElement("span",null,o.a.createElement("a",{href:"https://github.com/new",target:"blank"},"Create a new GitHub repo")," named 'autocommit', that will be used to make auto commits.")},{img:a(7),title:"Generate your SSH key",desc:"After Sign Up in Autocommits, our server will generate you a unique SSH key which is needed to identify our server when it will makes commits for you."},{img:a(7),title:"Connect key to GitHub",desc:"Then you will need to connect this key to your GitHub account in order to make GitHub aware that server represents you."},{img:a(7),title:"Enable Autocommits",desc:"And the last stap will be simple. Just press a button 'Enable' in our Dashboard to enable automatic daily contributions."}],k=[{q:"How do Autocommits works?",a:o.a.createElement("span",null,"Our server is scheduled to run once/day and get from database info about which account has enabled autocommits, then it performs couple of commits directly to 'autocommit' repo.")},{q:"I'm connecting generated key to my GitHub account, how can I know that it will be used only for autocommits?",a:o.a.createElement("span",null,"Connecting SSH key to your account means that owner of the key (server) can perform any actions from your name in GitHub, it's true. But, we are an open-source project, ",o.a.createElement("a",{href:"https://github.com/kirillovmr/autocommit",target:"blank"},"here is our GitHub page"),", only our server and you knows your unique key. ")},{q:"What if I want to stop using Autocommits?",a:o.a.createElement("span",null,"You can stop using Autocommits anytime by deactivating your account in Autocommits Dashboard. Also, you can ",o.a.createElement("a",{href:"https://github.com/settings/keys",target:"blank"},"delete given SSH key from your account")," anytime you want.")}],x=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerHTML='!function(t){var e,o=t.url,n=document.getElementsByTagName("body")[0],a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=o,e=function(){ONPHstart(t)},a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,e())}:a.onload=function(){e()},n.appendChild(a)}({on_title:"Support us on ProductHunt!",on_description:"Hey! We\'re just released on PH, so join the discussion on our page.",link:"'.concat("http://kirillovmr.com",'",button_text:"Visit Page",position:"bottom-left",design:"kitty",display_from: false,from_title:"Hello Hunter!",from_description:"You have a special discount: 20% off. Just use the code below at checkout.",from_discount:"HUNTER20",url:"https://hypeok.com/onph/onph.js"});'),this.refs.main.appendChild(e)}},{key:"renderSteps",value:function(){return N.map(function(e){return o.a.createElement("div",{className:"media pt-3",key:E()()},o.a.createElement("img",{src:e.img,width:"32",height:"32",className:"bd-placeholder-img mr-2 rounded",alt:""}),o.a.createElement("p",{className:"media-body pb-0 mb-0 small lh-125 border-bottom border-gray pb-2"},o.a.createElement("strong",{className:"text-gray-dark"},e.title),o.a.createElement("span",{className:"d-block"},e.desc)))})}},{key:"renderFaq",value:function(){return k.map(function(e){return o.a.createElement("div",{className:"media text-light",key:E()()},o.a.createElement("p",{className:"media-body pb-0 mb-0 small lh-125 border-bottom border-gray py-3"},o.a.createElement("strong",{className:"text-gray-dark"},e.q),o.a.createElement("span",{className:"d-block ml-3 mt-1"},e.a)))})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},o.a.createElement("div",{className:"container d-flex justify-content-between"},o.a.createElement("span",{className:"navbar-brand text-light"},o.a.createElement("img",{src:w.a,width:"30",height:"30",className:"d-inline-block align-top mr-2",alt:""}),"Auto Commit"),o.a.createElement("button",{type:"button",onClick:this.props.login,className:"btn btn-outline-light"},o.a.createElement("i",{className:"fab fa-github mr-1"})," Login")))),o.a.createElement("div",{className:"d-flex flex-column justify-content-between",style:{height:"calc(100vh - 56px)"}},o.a.createElement("main",{role:"main",ref:"main",className:"container mb-5"},o.a.createElement("div",{className:"card my-3 rounded shadow"},o.a.createElement("img",{src:"https://picsum.photos/600/150/?blur",className:"card-img-top",alt:"..."}),o.a.createElement("div",{className:"card-body text-center"},o.a.createElement("h5",{className:"card-title"},o.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\udc4b")," Welcome to the automation"),o.a.createElement("p",{className:"card-text"},"This service is used to make automatic contributions on GitHub once a day to keep up your activity!"),o.a.createElement("p",{className:"card-text text-muted"},o.a.createElement("em",null,'"Simple to enable, free to use, happy to see. Your everyday activity."')),o.a.createElement("p",{className:"card-text"},o.a.createElement("small",{className:"text-muted"},o.a.createElement("em",null,"Best, Autocommit Team \xa9 2019"))))),o.a.createElement("div",{className:"d-flex align-items-center p-3 my-3 text-light bg-grey rounded shadow"},o.a.createElement("div",{className:"lh-100 w100"},o.a.createElement("button",{type:"button",onClick:this.props.login,className:"btn btn-block btn-outline-light"},o.a.createElement("i",{className:"fab fa-github mr-1"})," Login and Try In Now"))),o.a.createElement("div",{className:"my-3 p-3 bg-white rounded shadow"},o.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 d-flex justify-content-between w-100"},o.a.createElement("span",null,o.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd14")," How this magic works?"),o.a.createElement("i",{className:"fas fa-magic"})),o.a.createElement("span",{className:"mt-2 ml-3 d-block text-muted"},"Now you will see how it works. To enable Autocommits for your account, we will need some setup steps from you."),this.renderSteps()),o.a.createElement("div",{className:"my-3 p-3 bg-dark text-light rounded shadow"},o.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 d-flex justify-content-between w-100"},o.a.createElement("span",null,o.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\ude4b\u200d")," FAQ"),o.a.createElement("i",{className:"fas fa-question"})),this.renderFaq())),o.a.createElement("footer",{className:"footer bg-dark mt-auto py-3 shadow-lg"},o.a.createElement("div",{className:"container text-center"},o.a.createElement("span",{className:"text-light"},o.a.createElement("a",{href:"https://github.com/kirillovmr/autocommit",target:"blank"},o.a.createElement("i",{className:"fab fa-github mr-1"}),"autocommit"))))))}}]),t}(n.Component);function j(){return o.a.createElement("div",{className:"d-flex justify-content-center w-100"},o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")))}var S=a(60),D=a.n(S),O=a(61),U=a.n(O),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={dbUser:{autocommits:!1},buttonSpinner:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("\ud83d\udc4d Did Mount run");var t=this.props.user.displayName;this.props.db.getUserFromDB(t).then(function(t){if(console.log("\ud83d\udce1 dbUser got",t),!t)return e.componentDidMount();e.setState({dbUser:t})})}},{key:"toggleCommits",value:function(e){var t=this,a=this.props.user.displayName;this.props.db.toggleCommits(a,e).then(function(){t.setState({dbUser:Object(b.a)({},t.state.dbUser,{autocommits:e})})})}},{key:"renderStatusBlock",value:function(){var e=this;return this.state.dbUser.email?o.a.createElement("div",{className:"text-center w-100 mb-2"},o.a.createElement("img",{className:"mb-1",src:e.state.dbUser.autocommits?D.a:U.a,alt:"",width:"130",height:"130"}),o.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},e.state.dbUser.autocommits?"You are enabled \ud83d\ude0e":"Auto commits disabled \ud83d\ude1e"),e.state.dbUser.autocommits?o.a.createElement("p",null,"Your automatic commits are successfully scheduled and will automatically run each day ",o.a.createElement("code",null,"n")," times You can disable them any time with button below"):o.a.createElement("p",null,"You account is currently disabled from Autocommit system. ",o.a.createElement("br",null),"To schedule on your autocommits press ",o.a.createElement("strong",null,"Enable Autocommits")," button below."),e.state.dbUser.autocommits?o.a.createElement("span",null,o.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:function(){return e.toggleCommits(!1)}},"Disable Autocommits")):o.a.createElement("span",null,o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:function(){return e.toggleCommits(!0)}},"Enable Autocommits"))):o.a.createElement(j,null)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},o.a.createElement("div",{className:"container d-flex justify-content-between"},o.a.createElement("span",{className:"navbar-brand text-white"},o.a.createElement("img",{src:w.a,width:"30",height:"30",className:"d-inline-block align-top mr-2",alt:""}),"Autocommit 2"),o.a.createElement("img",{src:this.props.user.photoURL,width:"30",height:"30",className:"d-inline-block ml-2 user-avatar-sm",alt:""})))),o.a.createElement("div",{className:"d-flex flex-column justify-content-between",style:{height:"calc(100vh - 56px)"}},o.a.createElement("main",{role:"main",className:"container"},o.a.createElement("div",{className:"d-flex align-items-center p-3 my-3 text-white bg-grey rounded shadow"},o.a.createElement("img",{className:"mr-3",src:w.a,alt:"",width:"48",height:"48"}),o.a.createElement("div",{className:"lh-100 w100"},o.a.createElement("h6",{className:"mb-0 lh-100 d-flex justify-content-between w-100"},o.a.createElement("span",null,"GitHub autocommit system"),o.a.createElement("i",{className:"fas fa-magic"})," "),o.a.createElement("small",null,"This service is used to automatically make contributions on GitHub and keep up your activity."))),o.a.createElement("div",{className:"my-3 p-3 bg-white rounded shadow"},o.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 d-flex justify-content-between w-100"},o.a.createElement("span",null,o.a.createElement("i",{className:"fab fa-github mr-1"})," Connected account"),o.a.createElement("i",{className:"fas fa-user"})),o.a.createElement("div",{className:"media text-muted pt-3"},o.a.createElement("img",{src:this.props.user.photoURL,width:"32",height:"32",className:"bd-placeholder-img mr-2 rounded",alt:""}),o.a.createElement("p",{className:"media-body pb-0 mb-0 small lh-125"},o.a.createElement("span",{className:"d-flex justify-content-between align-items-center w-100"},o.a.createElement("strong",{className:"text-gray-dark"},"@",this.props.user.displayName),o.a.createElement("span",{className:"text-danger text-link",onClick:function(){return e.props.logout()}},"Logout")),this.props.user.email))),o.a.createElement("div",{className:"my-3 p-3 bg-white rounded shadow"},o.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 d-flex justify-content-between w-100"},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-cubes mr-1"})," Auto commit status"),o.a.createElement("span",{className:"badge badge-".concat(this.state.dbUser.autocommits?"success":"danger")},this.state.dbUser.autocommits?"Enabled":"Disabled")),o.a.createElement("div",{className:"media text-muted pt-3"},this.renderStatusBlock())),o.a.createElement("div",{className:"my-3 p-3 bg-white rounded shadow"},o.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 d-flex justify-content-between w-100"},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-server mr-1"})," Countdown to next commit")),o.a.createElement("div",{className:"progress mt-3"},o.a.createElement("div",{className:"progress-bar progress-bar-striped bg-success progress-bar-animated",role:"progressbar",style:{width:"25%"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})))),o.a.createElement("footer",{className:"footer mt-auto py-3 shadow-lg"},o.a.createElement("div",{className:"container text-center"},o.a.createElement("span",{className:"text-muted"},o.a.createElement("a",{href:"https://github.com/kirillovmr/autocommit",target:"blank"},o.a.createElement("i",{className:"fab fa-github mr-1"}),"autocommit"))))))}}]),t}(n.Component);a(125);function C(){return o.a.createElement("div",{className:"text-center"},o.a.createElement("div",{className:"loading-spinner"}))}var P=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Docs page"),o.a.createElement("p",null,"Docs"))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).db=new f(function(e){e?a.setState({initialFetchDone:!0,userProfile:e}):a.setState({initialFetchDone:!0})}),a.state={initialFetchDone:!1,timerDone:!1,userProfile:null,page:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({timerDone:!0})},600)}},{key:"onSignInSuccess",value:function(e){var t=this,a=e.additionalUserInfo.username;console.log("\ud83d\udce6 Sign in"),this.db.getUserFromDB(a).then(function(n){var o=!!n&&n.autocommits;t.db.changeUserDisplayName(a).then(function(n){var r={email:n.email,autocommits:o,accessToken:e.credential.accessToken,photoUrl:n.photoURL};t.db.addUserToDB(a,r),t.setState({userProfile:n})})})}},{key:"onLogOut",value:function(){this.setState({userProfile:null})}},{key:"chandePage",value:function(e){switch(e){case"docs":return void this.setState({page:e});default:return}}},{key:"returnPage",value:function(e){switch(e){case"docs":return o.a.createElement(P,null);default:return null}}},{key:"renderPage",value:function(){var e=this;return this.state.page?this.returnPage(this.state.page):this.state.timerDone?this.state.userProfile?o.a.createElement(A,{logout:function(){return e.db.logout(function(){return e.onLogOut()})},user:this.state.userProfile,changePage:this.chandePage.bind(this),db:this.db}):o.a.createElement(x,{login:function(){return e.db.login(function(t){return e.onSignInSuccess(t)})},changePage:this.chandePage.bind(this)}):o.a.createElement(C,null)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},this.renderPage())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a.p+"static/media/orderedlistocat.c9b87b0e.png"},61:function(e,t,a){e.exports=a.p+"static/media/deckfailcat.c99b2b43.png"},62:function(e,t,a){e.exports=a(127)},67:function(e,t,a){},7:function(e,t,a){e.exports=a.p+"static/media/logo-trans.c7ee7bd9.png"}},[[62,2,1]]]);
//# sourceMappingURL=main.5b25f60c.chunk.js.map